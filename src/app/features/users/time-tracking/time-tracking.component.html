<app-sidebar></app-sidebar>
<app-header></app-header>
<div class="task-log-container">
  <h1>Lançamento de Horas</h1>
  <p-calendar [(ngModel)]="startDate" name="dataInicio" [showIcon]="true" [showButtonBar]="true" dateFormat="dd/mm/yy" [required]="true"></p-calendar>

  <div class="input-group">
    <label for="startTime">Início</label>
    <input id="startTime" type="time" [(ngModel)]="startTime" (change)="calculateDuration()" required />
  </div>

  <div class="input-group">
    <label for="endTime">Fim</label>
    <input id="endTime" type="time" [(ngModel)]="endTime" (change)="calculateDuration()" required />
  </div>

  <div class="input-group">
    <label for="duration">Duração</label>
    <input id="duration" type="text" [(ngModel)]="duration" readonly />
  </div>

  <div class="form-group">
    <label for="project">Projeto</label>
    <select id="project" [(ngModel)]="selectedProject" class="form-control" (change)="onProjectSelect()">
      <option *ngFor="let projeto of projects" [value]="projeto.id">{{ projeto.nome }}</option>
    </select>
  </div>

  <div class="input-group">
    <label for="task">Tarefa</label>
    <p-dropdown [options]="tasks" [(ngModel)]="selectedTask" optionLabel="label" optionValue="value"
                placeholder="Selecione uma tarefa"></p-dropdown>
  </div>

  <div class="input-group">
    <label for="description">Descrição</label>
    <textarea id="description" [(ngModel)]="description" rows="4"></textarea>
  </div>

  <div class="form-actions">
    <button (click)="onConfirm()">Confirmar</button>
    <button (click)="onCancel()">Cancelar</button>
  </div>
</div>
